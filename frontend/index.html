<!DOCTYPE html>

<head>
  <title>Protein Graph Database</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,user-scalable=no" />

    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="shortcut icon" type="image/jpeg" href="images/bioinf-fr-logo-blau.jpg"/>

      <!-- Dependencies -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/sigma.js/1.2.1/sigma.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/sigma.js/1.2.1/plugins/sigma.renderers.snapshot.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.6.1/d3.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js"></script>
      
      <!-- Our web application -->
      <script src="js/app.js"></script>
      <script src="js/components/protein-list.js"></script>
      <script src="js/components/visualization.js"></script>
      <script src="js/components/attribute-pane.js"></script>
      <script src="js/components/zoom.js"></script>
      <script src="js/components/search.js"></script>
      <script src="js/components/functional-enrichment.js"></script>
      <script src="js/components/term-pane.js"></script>
      <script src="js/components/dvalue-pane.js"></script>
      <script src="js/components/subset-dialog.js"></script>
      <script src="js/components/modules.js"></script>
      <script src="js/components/d-value.js"></script>
      <!-- <script src="js/components/theme-toggle.js"></script> -->
    </head>

    <body>
      <div id="pgdb-app" class="black-theme"> <!-- Linked to app.js -->
          <div id="left-control-panel" class="black-theme">
              <div id="mainpanel" class="main-panel-limit">
          <div class="col">
            <div id="title">
              <h2>Protein Graph Database</h2>
            </div>
            <div class="b1">
              <protein-list v-model="gephi_json"></protein-list>
              <d-value v-bind:gephi_json="gephi_json"
                       v-on:d_value-changed="d_value = $event"
              ></d-value>
              <search v-on:active-node-changed="active_node = $event"
                      v-bind:gephi_json="gephi_json"
              ></search>
              <functional-enrichment v-bind:gephi_json="gephi_json"
                                     v-bind:func_json="func_json"
                                     v-bind:func_enrichment="func_enrichment"
                                     v-bind:revert_term="revert_term"
                                     v-on:active-term-changed="active_term = $event"
                                     v-on:func-json-changed="func_json = $event"
                                     v-on:func-enrichment-changed="func_enrichment = $event"
              ></functional-enrichment>
            </div>
          </div>
        </div>
          </div>
          <subset-dialog :active_subset="active_subset"
                       v-bind:gephi_json="gephi_json"
                       v-bind:func_enrichment="func_enrichment"
                       v-bind:node2term_index="node2term_index"
                       v-on:active-node-changed="active_node = $event"
                       v-on:func-json-changed="func_json = $event"
                       v-on:active-term-changed="active_term = $event"
                       v-on:d_value-changed="d_value = $event"
                       v-on:active-subset-changed="active_subset = $event"
                        v-on:toggle-theme="active_node = $event"
        ></subset-dialog>
          <div id= "chart-area">
              <modules v-bind:gephi_json="gephi_json"
                   v-on:active-subset-changed="active_subset = $event"
          ></modules>
              <visualization v-bind:gephi_json="gephi_json"
                       v-bind:active_node="active_node"
                       v-bind:active_term="active_term"
                       v-bind:d_value="d_value"
                       v-bind:func_json="func_json"
                       v-bind:active_subset="active_subset"
                       v-bind:active_layer="active_layer"
                       v-bind:node_color_index="node_color_index"
                       v-bind:edge_color_index="edge_color_index"
                       v-bind:dark_theme_root="dark_theme_root"
                       v-on:active-node-changed="active_node = $event"
                       v-on:active-term-changed="active_term = $event"
                       v-on:d_value-changed="d_value = $event"
                       v-on:active-subset-changed="active_subset = $event"
                       v-on:active-layer-changed="active_layer = $event"
                       v-on:func-json-changed="func_json = $event"
        ></visualization>
              <zoom></zoom>
              <theme-toggle></theme-toggle>
              <attribute-pane v-bind:active_node="active_node"
                        v-on:active-node-changed="active_node = $event"
        ></attribute-pane>
          </div>
         <!-- <div id="bottom-tools-area"></div>-->
        <term-pane v-bind:active_term="active_term"
                   v-bind:d_value="d_value"
                   v-bind:func_json="func_json"
                   v-bind:revert_term="revert_term"
                   v-on:active-layer-changed="active_layer = $event"
                   v-on:active-node-changed="active_node = $event"
                   v-on:active-term-changed="active_term = $event"
                   v-on:func-json-changed="func_json = $event"
                   v-on:revert-term-changed="revert_term = $event"
                   v-on:d_value-changed="d_value = $event"
        ></term-pane>
        <dvalue-pane v-bind:d_value="d_value"
                     v-on:active-node-changed="active_node = $event"
                     v-on:d_value-changed="d_value = $event"
        ></dvalue-pane>
        <div class="modal"><center>This may take a while. Please be patient...</center></div>
      </div>
    </div>
  </body>
</html>
